Templates in Django

This tutorial shows how to create templates for entire project at a commmon folder for all the apps.
To know about more options refer - https://wsvincent.com/django-tips-template-structure/

1. Create templates directory in your project dictionary which will be used to store the templates used in the project.

2. Add TEMPLATE_DIR variable in settings.py of your project directory.

  ..first_django_project\first_django_project\settings.py
  <code>
  # Build paths inside the project like this: os.path.join(BASE_DIR, ...)
  BASE_DIR = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))
  TEMPLATE_DIR = os.path.join(BASE_DIR, 'templates')                    # Add here
  </code>
  
3. Add TEMPLATE_DIR variable in TEMPLATES dictionary under the key DIR in settings.py of your project directory.

  ..first_django_project\first_django_project\settings.py
  <code>
  TEMPLATES = [
    {
        'BACKEND': 'django.template.backends.django.DjangoTemplates',
        'DIRS': [TEMPLATE_DIR,],                                      # Add here
        'APP_DIRS': True,
        'OPTIONS': {
            'context_processors': [
                'django.template.context_processors.debug',
                'django.template.context_processors.request',
                'django.contrib.auth.context_processors.auth',
                'django.contrib.messages.context_processors.messages',
            ],
        },
    },
  ]
  </code>

4. Create a template - index.html file (in templates directory).

  ..\first_django_project\templates\index.html
  <code>
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>First App</title>
    </head>
    <body>
        <h1> Hello, this is index.html.</h1>
        {{ insert_me }}                       # Inject variable here
    </body>
    </html>
  </code>
  
5. Edit views.py
  
  ..\first_django_project\polls\views.py
  <code>
  from django.shortcuts import render
  from django.http import HttpResponse

  def index(request):
    my_dict = { "insert_me": "Hello, this is from view.py!"} # Dictionary contains key same as variable injected in template file. Its value contains the contents.
    return render(request, 'index.html', context=my_dict)    # Use render method

  # Create your views here.
  </code>
  
 6. We can separate templates for each app under separate folders. Also change template path in the render method in views.py.
  
  ..\first_django_project\polls\views.py
  <code>
  from django.shortcuts import render
  from django.http import HttpResponse

  def index(request):
    my_dict = { "insert_me": "Hello, this is from view.py!"} # Dictionary contains key same as variable injected in template file. Its value contains the contents.
    return render(request, 'polls/index.html', context=my_dict)    # Use render method

  # Create your views here.
  </code>
  
  7. Add the path for template in the urls.py file of application.
  
    ..\first_django_project\polls\urls.py
    <code>
      from django.urls import path
      from polls import views

      urlpatterns = [
          path('', views.index, name='index'),              # url for browser - http://127.0.0.1:8080/polls
          path('display', views.display, name='display'),   # url for browser - http://127.0.0.1:8080/polls/display
      ]
    </code>
    
    For this to work, make sure that urls.py file of the project has following changes.
    
    <code>
      from django.contrib import admin
      from django.urls import include,path

      urlpatterns = [
          path('admin/', admin.site.urls),
          path('polls/', include('polls.urls')),
      ]

    </code>
  
  8. Refer: i. Template tags - https://docs.djangoproject.com/en/2.2/ref/templates/builtins/
            ii. render() function
            iii. https://wsvincent.com/django-tips-template-structure/
            iv. https://docs.djangoproject.com/en/dev/intro/tutorial03/
  
